<h1>Agregar Producto</h1>
<hr>

<form [formGroup]="myForm">

    <div class="row g-3 align-items-center mb-3">

        <div class="col-auto">
            <label>Nombre:</label>
        </div>

        <!-- Agregaremos validaciones al input y en base a esas validaciones nuestra directiva personalizada
            va recibir el objeto y cambiar el texto del span sin colocar una condición dentro del span -->
        <!-- ngIf es una directiva estructural y existen también las personalizadas, 
            un ejemplo es mat-button de angular matereal que transforma el html en un boton de materal transformandolo
        -->
        <div class="col-auto">
            <!-- Conectamos el input con el campo name -->
            <input formControlName="name" type="text" class="form-control">
        </div>

        <!-- Aqui cambiaremos por el mensaje de error mediante la directiva personalizada  -->
        <div class="col-auto">
            <!-- Podemos utilizar la directiva dentro del span -->
            <!-- Mandamos el [color], esto es permitido por tener la directiva customLabel -->
            <!-- Mandamos el objeto de errores con [errors] -->
            <span customLabel
                [color]="color"
                [errors]="myForm.get('name')?.errors"
            >Algo de información</span>
        </div>
        <!-- <div class="col-auto">
            <span customLabel
                [color]="color"
                [errors]="myForm.get('name')?.errors"
            >Temporal</span>
        </div> -->

    </div>

    <div class="row">
        <div class="col">
        <!-- Con este boton cambiamos el color  -->
        <button 
            (click)="changeColor()" 
            class="btn btn-primary">
            Cambiar color
        </button>
        </div>
    </div>
</form>

<!-- Mostramos los errores -->
<pre class="mt-5">{{ myForm.get('name')?.errors | json }}</pre>
<!-- Mostramos el color -->
<p>Color: {{ color }}</p>